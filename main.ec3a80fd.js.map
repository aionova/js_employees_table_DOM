{"version":3,"sources":["scripts/main.js"],"names":["head","document","querySelector","table","tBody","children","headers","firstElementChild","rows","querySelectorAll","lastEvent","addEventListener","event","target","tagName","index","indexOf","rowContent","textContent","parseFloat","match","join","sort","a","b","aValue","bValue","Number","localeCompare","append","closest","chosenRow","previousChosen","classList","remove","add","form","createElement","pushNotification","top","right","title","description","type","note","style","noteTitle","innerText","noteText","body","setTimeout","innerHTML","preventDefault","value","length","inputAge","inputSalary","newRow","toLocaleString","focusedText","focusedInput","e","code"],"mappings":"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","file":"main.ec3a80fd.js","sourceRoot":"../src","sourcesContent":["'use strict';\n\nconst head = document.querySelector('thead');\nconst table = document.querySelector('table');\nconst tBody = table.children[1];\nconst headers = [...head.firstElementChild.children];\nconst rows = [...tBody.querySelectorAll('tr')];\n\nlet lastEvent = null;\n\nhead.addEventListener('click', (event) => {\n  if (event.target.tagName !== 'TH') {\n    return;\n  };\n\n  const index = headers.indexOf(event.target);\n  const rowContent = [...rows[0].children][index].textContent;\n\n  if (lastEvent !== event.target) {\n    lastEvent = event.target;\n\n    if (parseFloat(rowContent.match(/\\w/g).join(''))) {\n      rows.sort((a, b) => {\n        const aValue = [...a.children][index].textContent.match(/\\w/g);\n        const bValue = [...b.children][index].textContent.match(/\\w/g);\n\n        return Number(aValue.join('')) - Number(bValue.join(''));\n      });\n    } else {\n      rows.sort((a, b) => {\n        const aValue = [...a.children][index].textContent;\n        const bValue = [...b.children][index].textContent;\n\n        return aValue.localeCompare(bValue);\n      });\n    }\n\n    tBody.append(...rows);\n  } else {\n    lastEvent = null;\n\n    if (parseFloat(rowContent.match(/\\w/g).join(''))) {\n      rows.sort((a, b) => {\n        const aValue = [...a.children][index].textContent.match(/\\w/g);\n        const bValue = [...b.children][index].textContent.match(/\\w/g);\n\n        return Number(bValue.join('')) - Number(aValue.join(''));\n      });\n    } else {\n      rows.sort((a, b) => {\n        const aValue = [...a.children][index].textContent;\n        const bValue = [...b.children][index].textContent;\n\n        return bValue.localeCompare(aValue);\n      });\n    }\n\n    tBody.append(...rows);\n  }\n});\n\ntable.addEventListener('click', (event) => {\n  if (!event.target.closest('TR') || event.target.tagName === 'TH') {\n    return;\n  }\n\n  const chosenRow = event.target.closest('TR');\n  const previousChosen = table.querySelector('.active');\n\n  if (previousChosen) {\n    previousChosen.classList.remove('active');\n  }\n  chosenRow.classList.add('active');\n});\n\nconst form = document.createElement('form');\n\nform.classList.add('new-employee-form');\n\ndocument.body.append(form);\n\nform.innerHTML = `\n<label>\n  Name:\n  <input\n    required\n    name=\"name\"\n    type=\"text\"\n  >\n</label>\n<label>\n  Position:\n  <input\n    required\n    name=\"position\"\n    type=\"text\"\n  >\n</label>\n<label>\n  Office:\n  <select required name=\"office\">\n    <option>Tokyo</option>\n    <option>Singapore</option>\n    <option>London</option>\n    <option>New York</option>\n    <option>Edinburgh</option>\n    <option>San Francisco</option>\n  </select>\n</label>\n<label>\n  Age:\n  <input\n    required\n    name=\"age\"\n    type=\"number\"\n  >\n</label>\n<label>\n  Salary:\n  <input\n    required\n    name=\"salary\"\n    type=\"number\"\n  >\n</label>\n<button type=\"submit\">Save to table</button>\n`;\n\nform.addEventListener('submit', (event) => {\n  event.preventDefault();\n\n  if (form.children[0].firstElementChild.value.length < 4) {\n    pushNotification(0, 50, 'Invalid name', `\n    Please enter your correct name of minimum 4 characters!`, 'error');\n\n    return;\n  }\n\n  const inputAge = form.children[3].firstElementChild.value;\n  const inputSalary = form.children[4].firstElementChild.value;\n\n  if (inputAge < 18 || inputAge > 90) {\n    pushNotification(0, 50, 'Invalid age', `\n    Please enter your correct age between 18 and 90!`, 'error');\n\n    return;\n  }\n\n  const newRow = document.createElement('tr');\n\n  newRow.innerHTML = `\n    <td>${form.children[0].firstElementChild.value}</td>\n    <td>${form.children[1].firstElementChild.value}</td>\n    <td>${form.children[2].firstElementChild.value}</td>\n    <td>${form.children[3].firstElementChild.value}</td>\n    <td>$${Number(inputSalary).toLocaleString()}</td>\n  `;\n\n  tBody.append(newRow);\n  pushNotification(0, 50, 'Done!', 'Thank you for choosing us!', 'success');\n});\n\nfunction pushNotification(top, right, title, description, type) {\n  const note = document.createElement('div');\n\n  note.style.top = top + 'px';\n  note.style.right = right + 'px';\n  note.classList.add(type);\n  note.classList.add('notification');\n\n  const noteTitle = document.createElement('h2');\n\n  noteTitle.innerText = title;\n\n  const noteText = document.createElement('p');\n\n  noteText.innerText = description;\n  document.body.append(note);\n  note.append(noteTitle);\n  note.append(noteText);\n  setTimeout(() => note.remove(), 2000);\n};\n\ntBody.addEventListener('dblclick', event => {\n  if (event.target.tagName !== 'TD') {\n    return;\n  }\n\n  const focusedText = event.target.innerHTML;\n\n  event.target.innerHTML = `\n  <input\n    type=\"text\"\n    class=\"cell-input\"\n    value=\"${focusedText}\"\n  >\n  `;\n\n  const focusedInput = event.target.firstElementChild;\n  const target = event.target;\n\n  focusedInput.addEventListener('blur', e => {\n    if (focusedInput.value) {\n      target.innerHTML = focusedInput.value;\n    } else {\n      target.innerHTML = focusedText;\n    }\n  });\n\n  focusedInput.addEventListener('keyup', e => {\n    if (e.code !== 'Enter') {\n      return;\n    }\n\n    if (focusedInput.value) {\n      target.innerHTML = focusedInput.value;\n    } else {\n      target.innerHTML = focusedText;\n    }\n  });\n});\n"]}